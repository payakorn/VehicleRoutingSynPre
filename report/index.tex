\documentclass[12pt,a4paper]{article}

\usepackage[a4paper,text={16.5cm,25.2cm},centering]{geometry}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{bm}
\usepackage{graphicx}
\usepackage{microtype}
\usepackage{hyperref}
\setlength{\parindent}{0pt}
\setlength{\parskip}{1.2ex}

\hypersetup
       {   pdfauthor = { Payakorn Saksuriya },
           pdftitle={ Tutorial for VehicleRoutingSynPre },
           colorlinks=TRUE,
           linkcolor=black,
           citecolor=blue,
           urlcolor=blue
       }

\title{ Tutorial for VehicleRoutingSynPre }

\author{ Payakorn Saksuriya }


\usepackage{upquote}
\usepackage{listings}
\usepackage{xcolor}
\lstset{
    basicstyle=\ttfamily\footnotesize,
    upquote=true,
    breaklines=true,
    breakindent=0pt,
    keepspaces=true,
    showspaces=false,
    columns=fullflexible,
    showtabs=false,
    showstringspaces=false,
    escapeinside={(*@}{@*)},
    extendedchars=true,
}
\newcommand{\HLJLt}[1]{#1}
\newcommand{\HLJLw}[1]{#1}
\newcommand{\HLJLe}[1]{#1}
\newcommand{\HLJLeB}[1]{#1}
\newcommand{\HLJLo}[1]{#1}
\newcommand{\HLJLk}[1]{\textcolor[RGB]{148,91,176}{\textbf{#1}}}
\newcommand{\HLJLkc}[1]{\textcolor[RGB]{59,151,46}{\textit{#1}}}
\newcommand{\HLJLkd}[1]{\textcolor[RGB]{214,102,97}{\textit{#1}}}
\newcommand{\HLJLkn}[1]{\textcolor[RGB]{148,91,176}{\textbf{#1}}}
\newcommand{\HLJLkp}[1]{\textcolor[RGB]{148,91,176}{\textbf{#1}}}
\newcommand{\HLJLkr}[1]{\textcolor[RGB]{148,91,176}{\textbf{#1}}}
\newcommand{\HLJLkt}[1]{\textcolor[RGB]{148,91,176}{\textbf{#1}}}
\newcommand{\HLJLn}[1]{#1}
\newcommand{\HLJLna}[1]{#1}
\newcommand{\HLJLnb}[1]{#1}
\newcommand{\HLJLnbp}[1]{#1}
\newcommand{\HLJLnc}[1]{#1}
\newcommand{\HLJLncB}[1]{#1}
\newcommand{\HLJLnd}[1]{\textcolor[RGB]{214,102,97}{#1}}
\newcommand{\HLJLne}[1]{#1}
\newcommand{\HLJLneB}[1]{#1}
\newcommand{\HLJLnf}[1]{\textcolor[RGB]{66,102,213}{#1}}
\newcommand{\HLJLnfm}[1]{\textcolor[RGB]{66,102,213}{#1}}
\newcommand{\HLJLnp}[1]{#1}
\newcommand{\HLJLnl}[1]{#1}
\newcommand{\HLJLnn}[1]{#1}
\newcommand{\HLJLno}[1]{#1}
\newcommand{\HLJLnt}[1]{#1}
\newcommand{\HLJLnv}[1]{#1}
\newcommand{\HLJLnvc}[1]{#1}
\newcommand{\HLJLnvg}[1]{#1}
\newcommand{\HLJLnvi}[1]{#1}
\newcommand{\HLJLnvm}[1]{#1}
\newcommand{\HLJLl}[1]{#1}
\newcommand{\HLJLld}[1]{\textcolor[RGB]{148,91,176}{\textit{#1}}}
\newcommand{\HLJLs}[1]{\textcolor[RGB]{201,61,57}{#1}}
\newcommand{\HLJLsa}[1]{\textcolor[RGB]{201,61,57}{#1}}
\newcommand{\HLJLsb}[1]{\textcolor[RGB]{201,61,57}{#1}}
\newcommand{\HLJLsc}[1]{\textcolor[RGB]{201,61,57}{#1}}
\newcommand{\HLJLsd}[1]{\textcolor[RGB]{201,61,57}{#1}}
\newcommand{\HLJLsdB}[1]{\textcolor[RGB]{201,61,57}{#1}}
\newcommand{\HLJLsdC}[1]{\textcolor[RGB]{201,61,57}{#1}}
\newcommand{\HLJLse}[1]{\textcolor[RGB]{59,151,46}{#1}}
\newcommand{\HLJLsh}[1]{\textcolor[RGB]{201,61,57}{#1}}
\newcommand{\HLJLsi}[1]{#1}
\newcommand{\HLJLso}[1]{\textcolor[RGB]{201,61,57}{#1}}
\newcommand{\HLJLsr}[1]{\textcolor[RGB]{201,61,57}{#1}}
\newcommand{\HLJLss}[1]{\textcolor[RGB]{201,61,57}{#1}}
\newcommand{\HLJLssB}[1]{\textcolor[RGB]{201,61,57}{#1}}
\newcommand{\HLJLnB}[1]{\textcolor[RGB]{59,151,46}{#1}}
\newcommand{\HLJLnbB}[1]{\textcolor[RGB]{59,151,46}{#1}}
\newcommand{\HLJLnfB}[1]{\textcolor[RGB]{59,151,46}{#1}}
\newcommand{\HLJLnh}[1]{\textcolor[RGB]{59,151,46}{#1}}
\newcommand{\HLJLni}[1]{\textcolor[RGB]{59,151,46}{#1}}
\newcommand{\HLJLnil}[1]{\textcolor[RGB]{59,151,46}{#1}}
\newcommand{\HLJLnoB}[1]{\textcolor[RGB]{59,151,46}{#1}}
\newcommand{\HLJLoB}[1]{\textcolor[RGB]{102,102,102}{\textbf{#1}}}
\newcommand{\HLJLow}[1]{\textcolor[RGB]{102,102,102}{\textbf{#1}}}
\newcommand{\HLJLp}[1]{#1}
\newcommand{\HLJLc}[1]{\textcolor[RGB]{153,153,119}{\textit{#1}}}
\newcommand{\HLJLch}[1]{\textcolor[RGB]{153,153,119}{\textit{#1}}}
\newcommand{\HLJLcm}[1]{\textcolor[RGB]{153,153,119}{\textit{#1}}}
\newcommand{\HLJLcp}[1]{\textcolor[RGB]{153,153,119}{\textit{#1}}}
\newcommand{\HLJLcpB}[1]{\textcolor[RGB]{153,153,119}{\textit{#1}}}
\newcommand{\HLJLcs}[1]{\textcolor[RGB]{153,153,119}{\textit{#1}}}
\newcommand{\HLJLcsB}[1]{\textcolor[RGB]{153,153,119}{\textit{#1}}}
\newcommand{\HLJLg}[1]{#1}
\newcommand{\HLJLgd}[1]{#1}
\newcommand{\HLJLge}[1]{#1}
\newcommand{\HLJLgeB}[1]{#1}
\newcommand{\HLJLgh}[1]{#1}
\newcommand{\HLJLgi}[1]{#1}
\newcommand{\HLJLgo}[1]{#1}
\newcommand{\HLJLgp}[1]{#1}
\newcommand{\HLJLgs}[1]{#1}
\newcommand{\HLJLgsB}[1]{#1}
\newcommand{\HLJLgt}[1]{#1}


\begin{document}

\maketitle

Import package


\begin{lstlisting}
(*@\HLJLk{using}@*) (*@\HLJLn{VehicleRoutingSynPre}@*)
(*@\HLJLk{using}@*) (*@\HLJLn{Latexify}@*)
\end{lstlisting}


\rule{\textwidth}{1pt}
\section{Benchmark}
Benchmark name is in the form, for exmaple, "ins10-1.jld2" is the instance number 1 with 10 nodes (not include depot).

To load the instance data use


\begin{lstlisting}
(*@\HLJLn{name}@*) (*@\HLJLoB{=}@*) (*@\HLJLs{"{}ins10-1"{}}@*)
(*@\HLJLn{num{\_}node}@*)(*@\HLJLp{,}@*) (*@\HLJLn{num{\_}vehi}@*)(*@\HLJLp{,}@*) (*@\HLJLn{num{\_}serv}@*)(*@\HLJLp{,}@*) (*@\HLJLn{mind}@*)(*@\HLJLp{,}@*) (*@\HLJLn{maxd}@*)(*@\HLJLp{,}@*) (*@\HLJLn{a}@*)(*@\HLJLp{,}@*) (*@\HLJLn{r}@*)(*@\HLJLp{,}@*) (*@\HLJLn{d}@*)(*@\HLJLp{,}@*) (*@\HLJLn{p}@*)(*@\HLJLp{,}@*) (*@\HLJLn{e}@*)(*@\HLJLp{,}@*) (*@\HLJLn{l}@*) (*@\HLJLoB{=}@*) (*@\HLJLnf{load{\_}data}@*)(*@\HLJLp{(}@*)(*@\HLJLn{name}@*)(*@\HLJLp{);}@*)
\end{lstlisting}


where

\begin{itemize}
\item num\_node: total number of nodes (including depot)


\item num\_vehi: total number of vehicles


\item num\_serv: total number of services


\item mind: minumum different of starting time between two services of each node


\item maxd: maximum different of starting time between two services of each node


\item a: compatibility matrix a[i,j] = 1 if vehicle i can process service j


\item r: requiment matrix r[i,j] = 1 if node i requires service j


\item d: distance matrix


\item p: processing time matrix, p[i, j, k] = processing time of service j of vehicle i on node k


\item e: earilest start time of each node


\item l: latest start time of each node

\end{itemize}
\rule{\textwidth}{1pt}
Generate random particle (solution)


\begin{lstlisting}
(*@\HLJLn{particle}@*) (*@\HLJLoB{=}@*) (*@\HLJLnf{generate{\_}particles}@*)(*@\HLJLp{(}@*)(*@\HLJLs{"{}ins10-1"{}}@*)(*@\HLJLp{);}@*)
\end{lstlisting}

\begin{lstlisting}
11, [6]
7, [5]
4, [2]
6, [3]
3, [5]
10, [1]
2, [4]
5, [4]
8, [3]
\end{lstlisting}


The particle is \texttt{struct} of \texttt{Particle} with fields


\begin{lstlisting}
(*@\HLJLnf{dump}@*)(*@\HLJLp{(}@*)(*@\HLJLn{Particle}@*)(*@\HLJLp{)}@*)
\end{lstlisting}

\begin{lstlisting}
Particle <: Any
  route::Vector(*@{{\{}}@*)Vector(*@{{\{}}@*)Vector(*@{{\{}}@*)Int64(*@{{\}}}@*)(*@{{\}}}@*)(*@{{\}}}@*)
  starttime::Dict(*@{{\{}}@*)Int64, Array(*@{{\{}}@*)Float64(*@{{\}}}@*)(*@{{\}}}@*)
  slot::Dict(*@{{\{}}@*)Int64, Vector(*@{{\{}}@*)Int64(*@{{\}}}@*)(*@{{\}}}@*)
  serv(*@{{\_}}@*)a::Tuple
  serv(*@{{\_}}@*)r::Dict(*@{{\{}}@*)Int64, Vector(*@{{\{}}@*)Int64(*@{{\}}}@*)(*@{{\}}}@*)
  num(*@{{\_}}@*)node::Int64
  num(*@{{\_}}@*)vehi::Int64
  num(*@{{\_}}@*)serv::Int64
  mind::Vector(*@{{\{}}@*)Float64(*@{{\}}}@*)
  maxd::Vector(*@{{\{}}@*)Float64(*@{{\}}}@*)
  a::Array(*@{{\{}}@*)Int64(*@{{\}}}@*)
  r::Array(*@{{\{}}@*)Int64(*@{{\}}}@*)
  d::Matrix(*@{{\{}}@*)Float64(*@{{\}}}@*)
  p::Array(*@{{\{}}@*)Float64(*@{{\}}}@*)
  e::Vector(*@{{\{}}@*)Int64(*@{{\}}}@*)
  l::Vector(*@{{\{}}@*)Int64(*@{{\}}}@*)
  PRE::Vector(*@{{\{}}@*)Tuple(*@{{\}}}@*)
  SYN::Vector(*@{{\{}}@*)Tuple(*@{{\}}}@*)
\end{lstlisting}


\begin{lstlisting}
(*@\HLJLn{particle}@*)(*@\HLJLoB{.}@*)(*@\HLJLn{route}@*)
\end{lstlisting}

\begin{lstlisting}
3-element Vector(*@{{\{}}@*)Vector(*@{{\{}}@*)Vector(*@{{\{}}@*)Int64(*@{{\}}}@*)(*@{{\}}}@*)(*@{{\}}}@*):
 [[4, 2], [6, 3], [10, 1], [8, 3], [1, 1]]
 [[9, 6], [11, 6], [7, 5], [1, 1]]
 [[9, 5], [3, 5], [2, 4], [5, 4], [1, 1]]
\end{lstlisting}


\begin{lstlisting}
(*@\HLJLn{particle}@*)(*@\HLJLoB{.}@*)(*@\HLJLn{slot}@*)
\end{lstlisting}

\begin{lstlisting}
Dict(*@{{\{}}@*)Int64, Vector(*@{{\{}}@*)Int64(*@{{\}}}@*)(*@{{\}}}@*) with 10 entries:
  5  => [4]
  4  => [2]
  6  => [3]
  7  => [5]
  2  => [4]
  10 => [1]
  11 => [6]
  9  => [5, 6]
  8  => [3]
  3  => [5]
\end{lstlisting}


\begin{lstlisting}
(*@\HLJLnf{print}@*)(*@\HLJLp{(}@*)(*@\HLJLnf{latexify}@*)(*@\HLJLp{(}@*)(*@\HLJLs{"{}x/y"{}}@*)(*@\HLJLp{))}@*)
\end{lstlisting}

\begin{lstlisting}
(*@{{\$}}@*)(*@{{\textbackslash}}@*)frac(*@{{\{}}@*)x(*@{{\}}}@*)(*@{{\{}}@*)y(*@{{\}}}@*)(*@{{\$}}@*)
\end{lstlisting}


Total distance


\begin{lstlisting}
(*@\HLJLnf{total{\_}distance}@*)(*@\HLJLp{(}@*)(*@\HLJLn{particle}@*)(*@\HLJLp{)}@*)
\end{lstlisting}

\begin{lstlisting}
560.1594410000001
\end{lstlisting}



\end{document}
